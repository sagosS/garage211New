<nav class="admin-nav-bar-modern">
    <button class="admin-nav-toggle" id="adminNavToggle" aria-label="Меню">
        <span></span><span></span><span></span>
    </button>
    <div class="admin-nav-overlay" id="adminNavOverlay"></div>
    <ul class="admin-nav-list" id="adminNavList">
        <li>
            <a href="{{ url_for('admin.admin_index') }}"
                class="admin-nav-link{% if request.endpoint == 'admin.admin_index' %} active{% endif %}">
                <span class="admin-nav-icon"><svg viewBox="0 0 24 24">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" />
                    </svg></span>
                <span>Головна</span>
            </a>
        </li>
        <li class="admin-nav-dropdown">
            <a href="#" class="admin-nav-link"
                onclick="event.preventDefault();this.parentElement.classList.toggle('open');">
                <span class="admin-nav-icon"><svg viewBox="0 0 24 24">
                        <path d="M12 16l-6-6h12z" />
                    </svg></span>
                <span>Налаштування</span>
            </a>
            <ul class="admin-nav-sublist">
                <li>
                    <a href="{{ url_for('admin.gallery_editor') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.gallery_editor' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Галерея: фото -->
                            <svg viewBox="0 0 24 24">
                                <rect x="3" y="5" width="18" height="14" rx="2" />
                                <circle cx="8" cy="10" r="2" />
                                <path d="M21 19l-5.5-7-4.5 6-2.5-3-4.5 4" />
                            </svg>
                        </span>
                        <span>Галерея</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_news') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_news' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Новини: газета -->
                            <svg viewBox="0 0 24 24">
                                <rect x="3" y="5" width="18" height="14" rx="2" />
                                <line x1="7" y1="8" x2="17" y2="8" />
                                <line x1="7" y1="12" x2="17" y2="12" />
                                <line x1="7" y1="16" x2="13" y2="16" />
                            </svg>
                        </span>
                        <span>Новини</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_projects') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_projects' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Проєкти: папка -->
                            <svg viewBox="0 0 24 24">
                                <path d="M3 7a2 2 0 0 1 2-2h4l2 3h8a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                            </svg>
                        </span>
                        <span>Проєкти</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_images') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_images' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Зображення: картинка -->
                            <svg viewBox="0 0 24 24">
                                <rect x="3" y="5" width="18" height="14" rx="2" />
                                <circle cx="8" cy="10" r="2" />
                                <path d="M21 19l-5.5-7-4.5 6-2.5-3-4.5 4" />
                            </svg>
                        </span>
                        <span>Зображення</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.edit_book_form') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.edit_book_form' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Запис: календар -->
                            <svg viewBox="0 0 24 24">
                                <rect x="3" y="4" width="18" height="18" rx="2" />
                                <line x1="16" y1="2" x2="16" y2="6" />
                                <line x1="8" y1="2" x2="8" y2="6" />
                                <line x1="3" y1="10" x2="21" y2="10" />
                            </svg>
                        </span>
                        <span>Запись</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_services') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_services' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Послуги: гайковий ключ -->
                            <svg viewBox="0 0 24 24">
                                <path d="M22 7l-5 5 1.5 1.5a5 5 0 1 1-7.1-7.1L12 7l5-5" />
                            </svg>
                        </span>
                        <span>Послуги</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_promotions') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_promotions' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Акції: зірка -->
                            <svg viewBox="0 0 24 24">
                                <polygon
                                    points="12 2 15 8.5 22 9.3 17 14.1 18.2 21 12 17.8 5.8 21 7 14.1 2 9.3 9 8.5 12 2" />
                            </svg>
                        </span>
                        <span>Акції</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_contacts') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.contacts' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Контакт: телефон -->
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M22 16.92V21a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h4.09a2 2 0 0 1 2 1.72l.72 5.06a2 2 0 0 1-1.12 2.18l-2.2 1.1a16 16 0 0 0 6.29 6.29l1.1-2.2a2 2 0 0 1 2.18-1.12l5.06.72A2 2 0 0 1 22 16.92z" />
                            </svg>
                        </span>
                        <span>Контакт</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_orders') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_orders' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Контакт: телефон -->
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M22 16.92V21a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h4.09a2 2 0 0 1 2 1.72l.72 5.06a2 2 0 0 1-1.12 2.18l-2.2 1.1a16 16 0 0 0 6.29 6.29l1.1-2.2a2 2 0 0 1 2.18-1.12l5.06.72A2 2 0 0 1 22 16.92z" />
                            </svg>
                        </span>
                        <span>Заявки</span>
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('admin.admin_assets') }}"
                        class="admin-nav-link{% if request.endpoint == 'admin.admin_assets' %} active{% endif %}">
                        <span class="admin-nav-icon">
                            <!-- Контакт: телефон -->
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M22 16.92V21a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h4.09a2 2 0 0 1 2 1.72l.72 5.06a2 2 0 0 1-1.12 2.18l-2.2 1.1a16 16 0 0 0 6.29 6.29l1.1-2.2a2 2 0 0 1 2.18-1.12l5.06.72A2 2 0 0 1 22 16.92z" />
                            </svg>
                        </span>
                        <span>Цінності</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="{{ url_for('admin.register_worker') }}"
                class="admin-nav-link{% if request.endpoint == 'admin.register_worker' %} active{% endif %}">
                <span class="admin-nav-icon"><svg viewBox="0 0 24 24">
                        <path d="M12 12c2.7 0 8 1.34 8 4v2H4v-2c0-2.66 5.3-4 8-4zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />
                    </svg></span>
                <span>+ робітник</span>
            </a>
        </li>
    </ul>
</nav>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('adminNavToggle');
        const navList = document.getElementById('adminNavList');
        const overlay = document.getElementById('adminNavOverlay');
        function closeMenu() {
            navList.classList.remove('open');
            toggle.classList.remove('open');
            overlay.classList.remove('open');
        }
        function openMenu() {
            navList.classList.add('open');
            toggle.classList.add('open');
            overlay.classList.add('open');
        }
        toggle && toggle.addEventListener('click', function (e) {
            e.stopPropagation();
            if (navList.classList.contains('open')) {
                closeMenu();
            } else {
                openMenu();
            }
        });
        overlay && overlay.addEventListener('click', closeMenu);
        // Закривати меню при кліку на пункт
        navList && navList.addEventListener('click', function (e) {
            if (window.innerWidth < 700 && e.target.closest('.admin-nav-link')) {
                closeMenu();
            }
        });
        // Закривати при зміні розміру вікна
        window.addEventListener('resize', function () {
            if (window.innerWidth >= 700) {
                closeMenu();
            }
        });
    });
</script>
<style>
    .admin-nav-bar-modern {
        background: #fffbe6;
        border-radius: 16px;
        box-shadow: 0 4px 24px rgba(255, 179, 0, 0.10);
        padding: 1.2rem 1.5rem;
        position: relative;
        z-index: 100;
    }

    .admin-nav-toggle {
        display: none;
        position: absolute;
        top: 1.2rem;
        right: 1.5rem;
        background: none;
        border: none;
        cursor: pointer;
        z-index: 120;
        width: 36px;
        height: 36px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 5px;
    }

    .admin-nav-toggle span {
        display: block;
        width: 28px;
        height: 4px;
        background: #ffb300;
        border-radius: 2px;
        margin: 3px 0;
        transition: all 0.3s;
    }

    .admin-nav-toggle.open span:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
    }

    .admin-nav-toggle.open span:nth-child(2) {
        opacity: 0;
    }

    .admin-nav-toggle.open span:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
    }

    .admin-nav-overlay {
        display: none;
    }

    @media (max-width: 700px) {
        .admin-nav-toggle {
            display: flex;
        }

        .admin-nav-list {
            flex-direction: column;
            gap: 0.2rem;
            max-height: 0;
            overflow: hidden;
            background: #fffbe6;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(255, 179, 0, 0.10);
            position: absolute;
            top: 60px;
            left: 10px;
            right: 10px;
            z-index: 110;
            transition: max-height 0.3s;
        }

        .admin-nav-list.open {
            max-height: 800px;
            padding-bottom: 1rem;
            transition: max-height 0.3s;
        }

        .admin-nav-link {
            width: 100%;
            justify-content: flex-start;
        }

        .admin-nav-overlay {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.18);
            z-index: 105;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .admin-nav-overlay.open {
            opacity: 1;
            pointer-events: all;
        }
    }

    .admin-nav-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 1.2rem;
        list-style: none;
        padding: 0;
        margin: 0;
        transition: max-height 0.3s;
    }

    .admin-nav-list li {
        display: flex;
    }

    .admin-nav-link {
        display: flex;
        align-items: center;
        gap: 0.7em;
        padding: 0.7em 1.3em;
        border-radius: 10px;
        font-size: 1.08rem;
        font-weight: 600;
        color: #23272b;
        background: none;
        border: none;
        transition: background 0.18s, color 0.18s, box-shadow 0.18s;
        text-decoration: none;
        position: relative;
    }

    .admin-nav-link .admin-nav-icon {
        display: flex;
        align-items: center;
        width: 22px;
        height: 22px;
    }

    .admin-nav-link .admin-nav-icon svg {
        width: 22px;
        height: 22px;
        fill: none;
        stroke: #ffb300;
        stroke-width: 2;
    }

    .admin-nav-link.active,
    .admin-nav-link:hover {
        background: linear-gradient(90deg, #ffb300 60%, #ff9800 100%);
        color: #fff;
        box-shadow: 0 2px 12px rgba(255, 179, 0, 0.10);
    }

    .admin-nav-link.active .admin-nav-icon svg,
    .admin-nav-link:hover .admin-nav-icon svg {
        stroke: #fff;
    }

    .admin-nav-dropdown .admin-nav-sublist {
        display: none;
        flex-direction: column;
        padding-left: 0;
        margin: 0;
    }

    .admin-nav-dropdown.open .admin-nav-sublist {
        display: flex;
    }

    .admin-nav-dropdown .admin-nav-sublist li {
        display: flex;
    }

    @media (max-width: 900px) {
        .admin-nav-bar-modern {
            padding: 0.7rem 0.3rem;
        }

        .admin-nav-list {
            gap: 0.3rem 0.5rem;
        }

        .admin-nav-link {
            font-size: 1rem;
            padding: 0.6em 0.7em;
        }
    }
</style>